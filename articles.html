{% extends "base.html" %}
{% block content %}
<div class="container py-4">
    <div class="row mb-4 align-items-center">
        <div class="col-md-8">
            <h2 class="fw-bold text-dark">
                <i class="fas fa-newspaper text-success me-2"></i>Food & Sustainability Hub
            </h2>
            <p class="text-muted">Curated reads on reducing waste, saving money, and healthy living.</p>
        </div>
        <div class="col-md-4 text-end">
            <div class="input-group shadow-sm">
                <span class="input-group-text bg-white border-end-0"><i class="fas fa-search text-muted"></i></span>
                <input type="text" class="form-control border-start-0 ps-0" placeholder="Search articles...">
            </div>
        </div>
    </div>

    <!-- Article Grid -->
    <div class="row g-4">
        {% for article in articles %}
        <div class="col-md-4">
            <div class="card h-100 border-0 shadow-sm hover-card transition-all">
                <!-- Dynamic Food Image based on ID -->
                <img src="https://source.unsplash.com/400x250/?food,{{ article.category }}" 
                     class="card-img-top object-fit-cover" 
                     alt="{{ article.title }}" 
                     style="height: 200px;">
                
                <div class="card-body d-flex flex-column p-4">
                    <div class="mb-2">
                        <span class="badge bg-success bg-opacity-10 text-success rounded-pill px-3">{{ article.category }}</span>
                        <small class="text-muted float-end"><i class="far fa-clock me-1"></i>5 min read</small>
                    </div>
                    
                    <h5 class="card-title fw-bold mb-3">{{ article.title }}</h5>
                    <p class="card-text text-muted small mb-4 line-clamp-3">
                        {{ article.description }}
                    </p>
                    
                    <div class="mt-auto">
                        <a href="{{ article.url }}" target="_blank" class="btn btn-outline-dark w-100 stretched-link fw-bold">
                            Read Article <i class="fas fa-external-link-alt ms-2 small"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <div class="col-12 text-center py-5">
            <i class="fas fa-book-open fa-3x text-muted mb-3"></i>
            <h3>No articles found.</h3>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .hover-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
    .hover-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important; }
    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>
{% endblock %}
